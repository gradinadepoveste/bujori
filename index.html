<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <title>Grădina de poveste</title>

  <style>
    .hidden {
      display: none;
    }

    body { font-family: sans-serif; background: #f9f9f9; margin: 0; padding: 1rem; scroll-behavior: smooth; }
    header { text-align: center; margin-bottom: 2rem; }
    .filters { 
      display: flex; flex-wrap: wrap; gap: 0.5rem; justify-content: center; 
      margin-bottom: 1rem; background: #eee; padding: 1rem; border-radius: 8px;
      position: sticky; top: 10px; z-index: 100;
    }
    .filters input, .filters select, .filters button { padding: 0.4rem; font-size: 0.9rem; }
    #searchLetter { width: 60px; text-align: center; }
    #minHeight, #maxHeight { width: 80px; }
    
    .gallery { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; }
    .card { background: white; border: 1px solid #ccc; border-radius: 8px; width: 220px; padding: 1rem; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .card img { width: 100%; height: 200px; object-fit: cover; border-radius: 4px; }
    
    .rebloom-badge { background: #28a745; color: white; font-size: 0.7rem; padding: 2px 5px; border-radius: 4px; display: inline-block; margin-bottom: 5px; }
    
    #backToTop {
      position: fixed; bottom: 20px; right: 20px; padding: 10px 15px;
      background: #007bff; color: white; border: none; border-radius: 50%;
      cursor: pointer; display: none; font-weight: bold;
    }
  </style>
</head>

<body>

  <header>
    <h1>Grădina de poveste</h1>
    <p>Catalog interactiv de bujori</p>
    <img src="IMG_20230703_120406.jpg" alt="Imagine decorativă" />
  </header>

  <!-- BUTONUL SECRET -->
  <div id="secretCod" style="text-align:center; opacity:0.3; cursor:pointer; margin-bottom:10px;">
    text
  </div>

  <div class="filters">
    <input type="text" id="search" placeholder="Caută nume..." />

    <select id="sortAlpha">
      <option value="">Ordonare A-Z</option>
      <option value="az">A-Z</option>
      <option value="za">Z-A</option>
    </select>

    <input type="text" id="searchLetter" maxlength="1" placeholder="Litera" title="Introdu o literă pentru filtrare" />

    <select id="colorFilter">
      <option value="">Toate culorile</option>
      <option value="alb">Alb</option>
      <option value="rosu">Albastru</option>
      <option value="crem">Crem</option>
      <option value="galben">Galben</option>
      <option value="maro">Maro</option>
      <option value="portocaliu">Portocaliu</option>
      <option value="roz">Roz</option>
      <option value="violet">Violet</option>    
      <option value="visiniu">Visiniu</option>
   </select>

    <select id="seasonFilter">
      <option value="">Orice perioadă</option>
      <option value="Foarte timpuriu">Foarte timpuriu </option>
      <option value="Timpuriu">Timpuriu </option>
      <option value="Timpuriu spre mijlocul verii">Timpuriu spre mijlocul verii </option>
      <option value="Timpuriul spre toamnă">Timpuriul spre toamnă </option>
      <option value="Începutul sezonului mijlociu">Începutul sezonului mijlociu </option>
      <option value="Mijlocul sezonului">Mijlocul sezonului </option>
      <option value="Mijlocul spre sfârșitul sezonului">Mijlocul spre sfârșitul sezonului </option>
      
    </select>

    <input type="number" id="minHeight" placeholder="H min" />
    <input type="number" id="maxHeight" placeholder="H max" />

    <button id="resetBtn">🔄 Reset</button>
  </div>

  <div id="counter" style="text-align:center; margin-bottom:10px;"></div>
  <section class="gallery" id="gallery"></section>

  <button id="backToTop">↑ TOP</button>

  <script>
    const flowers = [
{ name: "Apache War Dance", image: "Apache War Dance - r2_4 - IMG_20230626_1734550784", color: "rosu", height: 75, season: "Mijlocul spre sfârșitul sezonului", cod: 3 },

{ name: "Yuletide Magic", image: "Yuletide Magic - r6_12 - IMG_20230704_1820090784", color: "rosu, galben", height: 70, season: "null", cod: 6 },
 ];
    
    function renderGallery(data) {
    const gallery = document.getElementById("gallery");
    gallery.innerHTML = "";

    data.forEach(f => {
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <img src="${f.image}" alt="${f.name}">
        <strong>${f.name}</strong>
        <p>Înălțime: ${f.height || "N/A"} cm</p>
        <p>Sezon: ${f.season || "—"}</p>
        <p class="cod hidden"><strong>cod:</strong> ${f.cod ?? "—"}</p>
      `;

      gallery.appendChild(card);
    });

    document.getElementById("counter").textContent = `${data.length} hemerocalise găsite`;
  }

  /* -------------------------
     FILTRARE + SORTARE
     ------------------------- */
  function applyFilters() {
    const nameVal = document.getElementById("search").value.toLowerCase();
    const letterVal = document.getElementById("searchLetter").value.toLowerCase();
    const colorVal = document.getElementById("colorFilter").value;
    const seasonVal = document.getElementById("seasonFilter").value;
    const minH = parseInt(document.getElementById("minHeight").value) || 0;
    const maxH = parseInt(document.getElementById("maxHeight").value) || 999;

    let filtered = flowers.filter(f => {
      const h = parseInt(f.height) || 0;

      const matchesName = f.name.toLowerCase().includes(nameVal);
      const matchesLetter = !letterVal || f.name.toLowerCase().startsWith(letterVal);
      const matchesColor = !colorVal || (f.color && f.color.toLowerCase().includes(colorVal));
      const matchesSeason = !seasonVal || (f.season && f.season.toLowerCase().includes(seasonVal.toLowerCase()));
      const matchesHeight = h >= minH && h <= maxH;

      return matchesName && matchesLetter && matchesColor && matchesSeason && matchesHeight;
    });

    /* SORTARE */
    const alphaSort = document.getElementById("sortAlpha").value;

    if (alphaSort === "az") {
      filtered.sort((a, b) => a.name.localeCompare(b.name));
    } else if (alphaSort === "za") {
      filtered.sort((a, b) => b.name.localeCompare(a.name));
    }

    renderGallery(filtered);

    if (codVisible) {
      document.querySelectorAll(".cod").forEach(el => el.classList.remove("hidden"));
    }
  }

  /* -------------------------
     EVENIMENTE
     ------------------------- */
  document.querySelectorAll(".filters input, .filters select").forEach(el => {
    el.addEventListener("input", applyFilters);
  });

  document.getElementById("resetBtn").onclick = () => {
    document.querySelectorAll(".filters input, .filters select").forEach(el => el.value = "");
    applyFilters();
  };

  /* -------------------------
     BUTON TOP
     ------------------------- */
  const topBtn = document.getElementById("backToTop");
  window.onscroll = () => topBtn.style.display = window.scrollY > 400 ? "block" : "none";
  topBtn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });

  /* -------------------------
     COD SECRET
     ------------------------- */
  let codVisible = false;

  document.getElementById("secretCod").addEventListener("click", () => {
    codVisible = !codVisible;

    document.querySelectorAll(".cod").forEach(el => {
      el.classList.toggle("hidden", !codVisible);
    });
  });

  /* -------------------------
     PORNIREA PAGINII
     ------------------------- */
  renderGallery(flowers);
</script>



